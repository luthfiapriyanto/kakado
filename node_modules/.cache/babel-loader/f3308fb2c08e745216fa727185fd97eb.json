{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _reactNativeWeb=require(\"react-native-web\");var _recipient_gift=_interopRequireDefault(require(\"./recipient_gift.jpg\"));var _brand_logo=_interopRequireDefault(require(\"./brand_logo.png\"));var _formik=require(\"formik\");var _react=_interopRequireWildcard(require(\"react\"));var _firebase=_interopRequireDefault(require(\"firebase\"));var _landing_header=_interopRequireDefault(require(\"./landing_header.jpg\"));var _reactLoadingOverlay=_interopRequireDefault(require(\"react-loading-overlay\"));var _jsxFileName=\"/Users/luthfi/Gradire/src/Recipient.js\";(function(){var enterModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.enterModule:undefined;enterModule&&enterModule(module);})();var __signature__=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default.signature:function(a){return a;};var Recipient=function(_Component){(0,_inherits2.default)(Recipient,_Component);function Recipient(props){var _this;(0,_classCallCheck2.default)(this,Recipient);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Recipient).call(this,props));_this._onButtonSubmitClick=function(value){_this.setState({isLoading:true});var recipientMessage=value.recipientMessage;_firebase.default.database().ref('WishesList/').push({recipientMessage:recipientMessage}).then(function(data){_this._sendEmail(recipientMessage);}).catch(function(error){_this.setState({isLoading:false});console.log('error ',error);});};_this._sendEmail=function(value){var user_id='user_n6HTP5Cb1hviBCnr7qva4';var templateId='template_QG18UX4g_clone';window.emailjs.send('default_service',templateId,{recipient_email:_this.state.recipientEmail,sender_email:_this.state.senderEmail,recipient_message:value},user_id).then(function(res){_this.setState({isLoading:false});console.log('XCX',res);}).catch(function(err){_this.setState({isLoading:false});console.error('Failed to send feedback. Error: ',err);});};_this.state={messageValue:'',messageId:props.location.search.split('?').pop(),min:undefined,max:'',isLoading:true};var config={apiKey:\"AIzaSyAB8TiSYqmJGJaDJ2xHUjhW3j9UMdNwV-Q\",authDomain:\"gradire-83417.firebaseapp.com\",databaseURL:\"https://gradire-83417.firebaseio.com\",projectId:\"gradire-83417\",storageBucket:\"gradire-83417.appspot.com\",messagingSenderId:\"992342878515\",appId:\"1:992342878515:web:f04a70c41b72dc56f37646\",measurementId:\"G-FQPG4LXVYL\"};if(!_firebase.default.apps.length){_firebase.default.initializeApp(config);}return _this;}(0,_createClass2.default)(Recipient,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;_firebase.default.database().ref(\"MessageList/\".concat(this.state.messageId)).once('value',function(snapshot){_this2.setState({messageValue:snapshot.val().message,senderEmail:snapshot.val().senderEmail,recipientEmail:snapshot.val().recipientEmail,min:snapshot.val().budgetMin,max:snapshot.val().budgetMax,isLoading:false});});}},{key:\"render\",value:function render(){return _react.default.createElement(_reactLoadingOverlay.default,{active:this.state.isLoading,spinner:true,__source:{fileName:_jsxFileName,lineNumber:103},__self:this},_react.default.createElement(_reactNativeWeb.View,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:107},__self:this},_react.default.createElement(_reactNativeWeb.Image,{source:_brand_logo.default,style:styles.logo,__source:{fileName:_jsxFileName,lineNumber:108},__self:this}),_react.default.createElement(_reactNativeWeb.View,{style:{marginVertical:16,marginHorizontal:16,borderBottomColor:'#FDF5D8',borderBottomWidth:50,width:'100%',height:50},__source:{fileName:_jsxFileName,lineNumber:109},__self:this}),_react.default.createElement(_reactNativeWeb.Image,{source:_landing_header.default,style:styles.headerImg,__source:{fileName:_jsxFileName,lineNumber:110},__self:this}),_react.default.createElement(_reactNativeWeb.View,{style:styles.formContainer,__source:{fileName:_jsxFileName,lineNumber:112},__self:this},_react.default.createElement(_reactNativeWeb.Image,{source:_recipient_gift.default,style:styles.imageAsset,__source:{fileName:_jsxFileName,lineNumber:113},__self:this}),_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:34,marginTop:30},__source:{fileName:_jsxFileName,lineNumber:114},__self:this},\"Your Occasion is About to Coming\"),_react.default.createElement(_reactNativeWeb.View,{style:{alignItems:'flex-start',justifyContent:'flex-start',width:'100%'},__source:{fileName:_jsxFileName,lineNumber:115},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:20,marginTop:50},__source:{fileName:_jsxFileName,lineNumber:117},__self:this},this.state.messageValue),_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:18,marginTop:20},__source:{fileName:_jsxFileName,lineNumber:118},__self:this},\"Your budget is limited to Rp\".concat(this.state.min,\" - Rp\").concat(this.state.max))),_react.default.createElement(_formik.Formik,{initialValues:{recipientMessage:''},onSubmit:this._onButtonSubmitClick,__source:{fileName:_jsxFileName,lineNumber:122},__self:this},function(_ref){var handleChange=_ref.handleChange,handleSubmit=_ref.handleSubmit,isValid=_ref.isValid;return _react.default.createElement(_reactNativeWeb.View,{style:{flex:1,width:'100%'},__source:{fileName:_jsxFileName,lineNumber:127},__self:this},_react.default.createElement(_reactNativeWeb.View,{style:{flex:1,marginTop:40,width:'100%'},__source:{fileName:_jsxFileName,lineNumber:128},__self:this},_react.default.createElement(_reactNativeWeb.Text,{style:{fontSize:18},__source:{fileName:_jsxFileName,lineNumber:129},__self:this},\"Please explain what you really want!\"),_react.default.createElement(_reactNativeWeb.TextInput,{onChangeText:handleChange('recipientMessage'),multiline:true,style:{width:'100%',paddingHorizontal:16,paddingVertical:16,height:200,borderColor:'#000',borderWidth:1,marginVertical:16,backgroundColor:'#fff'},placeholder:'I’m very happy now. Just cannot think clearly! But if you really want to know about my wish, it is a brand new Wallet.',__source:{fileName:_jsxFileName,lineNumber:130},__self:this})),_react.default.createElement(_reactNativeWeb.View,{style:{marginTop:40,width:250},__source:{fileName:_jsxFileName,lineNumber:145},__self:this},_react.default.createElement(_reactNativeWeb.Button,{disabled:!isValid,color:'#000',onPress:handleSubmit,title:'SEND',__source:{fileName:_jsxFileName,lineNumber:146},__self:this})));}))));}},{key:\"__reactstandin__regenerateByEval\",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code);}}]);return Recipient;}(_react.Component);var styles=_reactNativeWeb.StyleSheet.create({imageAsset:{marginVertical:20,paddingHorizontal:30,width:400,height:200},container:{flex:1,backgroundColor:'#FFFEFA',alignItems:'center',justifyContent:'center'},formContainer:{marginBottom:100,flex:1,alignItems:'center',justifyContent:'center',paddingBottom:100},yellowRibbon:{paddingTop:50,color:'#FDF5D8',height:78,width:'100%'},logo:{marginVertical:20,paddingHorizontal:30,width:200,height:200},title:{fontWeight:'bold',fontSize:16},titleBar:{fontSize:38},button:{borderRadius:3,padding:20,marginVertical:10,marginTop:10,backgroundColor:'#1B95E0'},buttonText:{color:'#fff',fontWeight:'bold',fontSize:16}});var _default=Recipient;var _default2=_default;exports.default=_default2;;(function(){var reactHotLoader=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.default:undefined;if(!reactHotLoader){return;}reactHotLoader.register(Recipient,\"Recipient\",\"/Users/luthfi/Gradire/src/Recipient.js\");reactHotLoader.register(styles,\"styles\",\"/Users/luthfi/Gradire/src/Recipient.js\");reactHotLoader.register(_default,\"default\",\"/Users/luthfi/Gradire/src/Recipient.js\");})();;(function(){var leaveModule=typeof reactHotLoaderGlobal!=='undefined'?reactHotLoaderGlobal.leaveModule:undefined;leaveModule&&leaveModule(module);})();","map":{"version":3,"sources":["/Users/luthfi/Gradire/src/Recipient.js"],"names":["Recipient","props","_onButtonSubmitClick","value","setState","isLoading","recipientMessage","firebase","database","ref","push","then","data","_sendEmail","catch","error","console","log","user_id","templateId","window","emailjs","send","recipient_email","state","recipientEmail","sender_email","senderEmail","recipient_message","res","err","messageValue","messageId","location","search","split","pop","min","undefined","max","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","once","snapshot","val","message","budgetMin","budgetMax","styles","container","logo","marginVertical","marginHorizontal","borderBottomColor","borderBottomWidth","width","height","headerImage","headerImg","formContainer","image","imageAsset","fontSize","marginTop","alignItems","justifyContent","handleChange","handleSubmit","isValid","flex","paddingHorizontal","paddingVertical","borderColor","borderWidth","backgroundColor","Component","StyleSheet","create","marginBottom","paddingBottom","yellowRibbon","paddingTop","color","title","fontWeight","titleBar","button","borderRadius","padding","buttonText"],"mappings":"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","sourcesContent":["import { Image, Picker, StyleSheet, Text, TextInput, View } from 'react-native';\nimport image from './recipient_gift.jpg';\nimport logo from './brand_logo.png';\nimport { Formik } from 'formik';\nimport { Button } from 'react-native-web';\nimport React, { Component } from 'react';\nimport firebase from 'firebase';\nimport headerImage from './landing_header.jpg';\nimport LoadingOverlay from 'react-loading-overlay';\n\n\nclass Recipient extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            messageValue: '',\n            messageId: props.location.search.split('?').pop(),\n            min: undefined,\n            max: '',\n            isLoading: true\n        };\n\n        const config = {\n            apiKey: \"AIzaSyAB8TiSYqmJGJaDJ2xHUjhW3j9UMdNwV-Q\",\n            authDomain: \"gradire-83417.firebaseapp.com\",\n            databaseURL: \"https://gradire-83417.firebaseio.com\",\n            projectId: \"gradire-83417\",\n            storageBucket: \"gradire-83417.appspot.com\",\n            messagingSenderId: \"992342878515\",\n            appId: \"1:992342878515:web:f04a70c41b72dc56f37646\",\n            measurementId: \"G-FQPG4LXVYL\"\n        };\n        if (!firebase.apps.length) {\n            firebase.initializeApp(config);\n        }\n\n    }\n\n    componentDidMount() {\n        firebase.database().ref(`MessageList/${this.state.messageId}`).once('value',  (snapshot) => {\n            this.setState({\n                messageValue: snapshot.val().message,\n                senderEmail: snapshot.val().senderEmail,\n                recipientEmail: snapshot.val().recipientEmail,\n                min: snapshot.val().budgetMin,\n                max: snapshot.val().budgetMax,\n                isLoading: false\n            });\n        });\n    }\n\n    _onButtonSubmitClick = (value) => {\n        this.setState({ isLoading: true });\n        const {\n            recipientMessage,\n        } = value;\n\n        firebase.database().ref('WishesList/').push({\n            recipientMessage,\n        }).then((data)=>{\n            this._sendEmail(recipientMessage);\n\n        }).catch((error)=>{\n            this.setState({ isLoading: false });\n\n            console.log('error ' , error)\n        })\n\n    };\n\n    _sendEmail = (value) => {\n\n        const user_id = 'user_n6HTP5Cb1hviBCnr7qva4';\n\n        const templateId = 'template_QG18UX4g_clone';\n        window.emailjs\n            .send('default_service', templateId, {\n                    recipient_email: this.state.recipientEmail,\n                    sender_email: this.state.senderEmail,\n                    recipient_message: value\n                },\n                user_id\n            )\n            .then(res => {\n                this.setState({ isLoading: false });\n\n                console.log('XCX', res)\n            })\n            // Handle errors here however you like\n\n            .catch(err => {\n                this.setState({ isLoading: false });\n\n                console.error('Failed to send feedback. Error: ', err)\n            });\n    }\n\n\n    render() {\n\n        return (\n            <LoadingOverlay\n                active={this.state.isLoading}\n                spinner\n            >\n                <View style={styles.container}>\n                    <Image source={logo} style={styles.logo}/>\n                    <View style={{ marginVertical: 16, marginHorizontal: 16, borderBottomColor: '#FDF5D8', borderBottomWidth: 50, width: '100%', height: 50 }}/>\n                    <Image source={headerImage} style={styles.headerImg}/>\n\n                    <View style={styles.formContainer}>\n                        <Image source={image} style={styles.imageAsset}/>\n                        <Text style={{ fontSize: 34, marginTop: 30 }}>Your Occasion is About to Coming</Text>\n                        <View style={{ alignItems: 'flex-start',\n                            justifyContent: 'flex-start', width: '100%' }}>\n                            <Text style={{ fontSize: 20, marginTop: 50 }}>{this.state.messageValue}</Text>\n                            <Text style={{ fontSize: 18, marginTop: 20 }}>{`Your budget is limited to Rp${this.state.min} - Rp${this.state.max}`}</Text>\n\n                        </View>\n\n                        <Formik initialValues={{\n                            recipientMessage: ''\n                        }}\n                                onSubmit={this._onButtonSubmitClick}>\n                            {({ handleChange, handleSubmit, isValid }) => (\n                                <View style={{ flex: 1, width: '100%' }}>\n                                    <View style={{ flex: 1, marginTop: 40, width: '100%' }}>\n                                        <Text style={{ fontSize: 18 }}>Please explain what you really want!</Text>\n                                        <TextInput\n                                            onChangeText={handleChange('recipientMessage')}\n                                            multiline={true}\n                                            style={{\n                                                width: '100%',\n                                                paddingHorizontal: 16,\n                                                paddingVertical: 16,\n                                                height: 200,\n                                                borderColor: '#000',\n                                                borderWidth: 1,\n                                                marginVertical: 16,\n                                                backgroundColor: '#fff'\n                                            }}\n                                            placeholder={'I’m very happy now. Just cannot think clearly! But if you really want to know about my wish, it is a brand new Wallet.'}/>\n                                    </View>\n                                    <View style={{ marginTop: 40, width: 250 }}>\n                                        <Button disabled={!isValid} color={'#000'}  onPress={handleSubmit} title={'SEND'}/>\n                                    </View>\n                                </View>\n                            )}\n                        </Formik>\n                    </View>\n                </View>\n            </LoadingOverlay>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n\n    imageAsset: {\n        marginVertical: 20,\n        paddingHorizontal: 30,\n        width: 400,\n        height: 200,\n    },\n    container: {\n        flex: 1,\n        backgroundColor: '#FFFEFA',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    formContainer: {\n        marginBottom: 100,\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 100\n        // paddingVertical: 70\n    },\n    yellowRibbon: {\n        paddingTop: 50,\n        color: '#FDF5D8',\n        height: 78,\n        width: '100%'\n    },\n    logo: {\n        marginVertical: 20,\n        paddingHorizontal: 30,\n        width: 200,\n        height: 200,\n    },\n    title: {\n        fontWeight: 'bold',\n        fontSize: 16,\n    },\n    titleBar: {\n        fontSize: 38\n    },\n    button: {\n        borderRadius: 3,\n        padding: 20,\n        marginVertical: 10,\n        marginTop: 10,\n        backgroundColor: '#1B95E0',\n    },\n    buttonText: {\n        color: '#fff',\n        fontWeight: 'bold',\n        fontSize: 16,\n    },\n});\n\nexport default Recipient;\n"]},"metadata":{},"sourceType":"script"}